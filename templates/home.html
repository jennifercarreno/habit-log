<!-- templates/home.html -->
{% extends 'base.html' %}

{% block content %}
    <div class = "nav">
        <a class="navbar-brand nav-link active" href="/">Home <span class="sr-only">(current)</span></a>
        <a class="nav-item nav-link" href="/habits/stats">Stats</a>
    </div>
    
    <h3 class="title"> Habit Tracker </h3>

    <table class = "table-bordered">
        <tr>
            <th>Habit</th>
            <th>Monday</th>
            <th>Tuesday</th>
            <th>Wednesday</th>
            <th>Thursday</th>
            <th>Friday</th>
            <th>Saturday</th>
            <th>Sunday</th>
            <th>Total</th>

        </tr>

        {% for habit in habits %}
            <tr>
                <td style="text-align: center;" class="habit-name">{{ habit.name }}</td>
                <td style="text-align: center;" class="check">{{ habit.monday }}</td>
                <td style="text-align: center;" class="check">{{ habit.tuesday }}</td>
                <td style="text-align: center;" class="check">{{ habit.wednesday }}</td>
                <td style="text-align: center;" class="check">{{ habit.thursday }}</td>
                <td style="text-align: center;" class="check">{{ habit.friday }}</td>
                <td style="text-align: center;" class="check">{{ habit.saturday }}</td>
                <td style="text-align: center;" class="check">{{ habit.sunday }}</td>
                <td style="text-align: center;"> {{habit.count}} </td>
                
                <td style="text-align: center;">
                    <p>
                        <form method='POST' action='/habits/{{ habit._id }}/delete'>
                            <button type='submit'>Delete</button>
                        </form>
                    </p>
                </td>
                <td style="text-align: center;">
                    <p><a href='/habits/{{ habit._id }}/edit'><button type='submit'>Edit</button></a></p>
                </td>
            </tr>
           
        {% endfor %}
        <tr>
            <th>Total</th>
            <td>{{monday_count}}</td>
            <td>{{tuesday_count}}</td>
            <td>{{wednesday_count}}</td>
            <td>{{thursday_count}}</td>
            <td>{{friday_count}}</td>
            <td>{{saturday_count}}</td>
            <td>{{sunday_count}}</td>

        </tr>
    </table>

    <div class="footer">
        <a href='/habits/new'>New Habit</a>
    </div>
{% endblock %}
