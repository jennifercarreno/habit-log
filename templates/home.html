<!-- templates/home.html -->
{% extends 'base.html' %}

{% block content %}
<div class="page-body">
    <div class = "nav">
        <a class="navbar-brand nav-link active mx-0" href="/">Home </a>
        <a class="nav-item nav-link" href="/habits/stats">Stats</a>
    </div>
    
    <h1 class="title py-2"> Life Log </h1>

    <table class = "table-bordered">
        <tr>
            <th>Habit</th>
            <th>Monday</th>
            <th>Tuesday</th>
            <th>Wednesday</th>
            <th>Thursday</th>
            <th>Friday</th>
            <th>Saturday</th>
            <th>Sunday</th>
            <th>Total</th>

        </tr>

        {% for habit in habits %}
            <tr>
                <td style="text-align: center;" class="habit-name">{{ habit.name }}</td>
                <td style="text-align: center;" class="check">{{ habit.monday }}</td>
                <td style="text-align: center;" class="check">{{ habit.tuesday }}</td>
                <td style="text-align: center;" class="check">{{ habit.wednesday }}</td>
                <td style="text-align: center;" class="check">{{ habit.thursday }}</td>
                <td style="text-align: center;" class="check">{{ habit.friday }}</td>
                <td style="text-align: center;" class="check">{{ habit.saturday }}</td>
                <td style="text-align: center;" class="check">{{ habit.sunday }}</td>
                <td style="text-align: center;"> {{habit.count}} </td>
                
                <td style="text-align: center;">
                    <p>
                        <form method='POST' action='/habits/{{ habit._id }}/delete'>
                            <button type='submit'>Delete</button>
                        </form>
                    </p>
                </td>
                <td style="text-align: center;">
                    <p><a href='/habits/{{ habit._id }}/edit'><button type='submit'>Edit</button></a></p>
                </td>
            </tr>
           
        {% endfor %}
        <tr>
            <th>Total</th>
            <td>{{monday_count}}</td>
            <td>{{tuesday_count}}</td>
            <td>{{wednesday_count}}</td>
            <td>{{thursday_count}}</td>
            <td>{{friday_count}}</td>
            <td>{{saturday_count}}</td>
            <td>{{sunday_count}}</td>

        </tr>
    </table>

    <a href='/habits/new'><button id="new-habit-btn" class="action-button"> New Habit + </button></a>
    <div class="to-do-list">
    <h2 class="title py-2 text-center">To-Do List</h2>
    <table class="table to-do-list my-2 mx-auto table-sm">
        <h5 class="text-left py-2 mx-4">Tasks</h5>
        {% for task in tasks %}
        <tr style="text-align: center;">
           
            <td><li>{{task.name}}</li></td>
            
            
            <td><a href="/delete/{{task.id}}">Complete</a></td>
        </tr>
        {% endfor %}

    </table>
    <div class="form pb-4 pt-2" >
        <form actions="/" method="POST">
            <input type="text" name="content" id="content">
            <input type="submit" value="Add Task" id="task-button" class="action-button">
        </form>
    </div>
</div>
</div>
    <div class="footer py-2">
        Â© Jennifer Carreno 2021
    </div>
{% endblock %}
